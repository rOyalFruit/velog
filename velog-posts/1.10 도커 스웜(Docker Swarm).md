<p>도커 스웜은 여러 도커 호스트를 하나의 클러스터로 관리할 수 있게 해주는 도커의 클러스터링 및 오케스트레이션 도구다. 복잡한 애플리케이션을 여러 서버에 분산하여 실행하고 관리할 수 있는 기능을 제공한다.</p>
<hr />
<h3 id="도커-스웜의-종류">도커 스웜의 종류</h3>
<p>도커 스웜에는 두 가지 종류가 있다:</p>
<ol>
<li><strong>스웜 클래식(Swarm Classic)</strong>: 도커 1.6 버전 이후부터 사용 가능한 컨테이너로서의 스웜</li>
<li><strong>스웜 모드(Swarm Mode)</strong>: 도커 1.12 버전 이후부터 사용 가능한 내장된 스웜 기능</li>
</ol>
<p>이 두 종류의 가장 큰 차이점은 목적에 있다:</p>
<ul>
<li><strong>스웜 클래식</strong>: 여러 대의 도커 서버를 하나의 지점에서 사용하도록 단일 접근점 제공</li>
<li><strong>스웜 모드</strong>: 마이크로서비스 아키텍처의 컨테이너를 다루기 위한 클러스터링 기능에 초점</li>
</ul>
<p>현재는 <strong>스웜 모드</strong>가 서비스의 확장성과 안정성 측면에서 더 뛰어나 일반적으로 많이 사용된다</p>
<hr />
<h3 id="도커-스웜-모드의-구조">도커 스웜 모드의 구조</h3>
<p>스웜 모드는 다음과 같은 노드들로 구성됩니다:</p>
<ol>
<li><p><strong>매니저 노드(Manager Node)</strong>: </p>
<ul>
<li>워커 노드를 관리하는 도커 서버</li>
<li>클러스터 상태 관리 및 서비스 스케줄링 담당</li>
<li>기본적으로 워커 노드의 역할도 수행 가능</li>
</ul>
</li>
<li><p><strong>워커 노드(Worker Node)</strong>:</p>
<ul>
<li>실제로 컨테이너가 생성되고 관리되는 도커 서버</li>
<li>매니저 노드의 명령을 받아 컨테이너 실행</li>
</ul>
</li>
</ol>
<p>스웜 모드는 최소 1개 이상의 매니저 노드가 필요하며, 운영 환경에서는 매니저 노드를 여러 개 구성하여 고가용성을 확보하는 것이 좋다.</p>
<hr />
<h3 id="스웜-모드의-주요-기능">스웜 모드의 주요 기능</h3>
<ol>
<li><p><strong>로드 밸런싱</strong>: </p>
<ul>
<li>컨테이너로의 연결을 분산하는 로드밸런싱 기능을 자체적으로 지원</li>
<li>여러 서버에 걸쳐 부하를 분산시킴</li>
</ul>
</li>
<li><p><strong>스케일링</strong>: </p>
<ul>
<li>같은 컨테이너를 동시에 여러개 생성하고 필요에 따라 유동적으로 조절 가능</li>
<li>단, 자동 스케일링은 지원하지 않으며 개발자가 직접 조정해야 함</li>
</ul>
</li>
<li><p><strong>고가용성</strong>: </p>
<ul>
<li>장애 복구 기능 제공</li>
<li>지정한 레플리카 수보다 컨테이너가 부족하면 자동으로 새로운 컨테이너 생성</li>
<li>특정 노드가 다운되어도 서비스 유지 가능</li>
</ul>
</li>
<li><p><strong>네트워킹</strong>: </p>
<ul>
<li>오버레이(Overlay) 네트워크를 사용하여 여러 도커 데몬이나 클러스터 노드 간 통신 지원</li>
<li>스웜 클러스터 생성 시 자동으로 네트워크 드라이버 추가</li>
</ul>
</li>
</ol>
<hr />
<h3 id="스웜-모드의-핵심-개념">스웜 모드의 핵심 개념</h3>
<ol>
<li><p><strong>서비스(Service)</strong>: </p>
<ul>
<li>도커스웜의 기본 배포 단위</li>
<li>단일 도커 이미지를 기반으로 클러스터 안에서 구동시킬 컨테이너 묶음</li>
<li>컨테이너의 스펙과 실행 환경을 정의</li>
</ul>
</li>
<li><p><strong>태스크(Task)</strong>: </p>
<ul>
<li>서비스의 명세에 따라 생성되어 노드에 배치되는 개별 컨테이너 배포 단위</li>
<li>하나의 서비스는 여러 개의 태스크(컨테이너)를 가질 수 있음</li>
</ul>
</li>
<li><p><strong>스케줄링(Scheduling)</strong>: </p>
<ul>
<li>서비스의 요구사항에 맞춰 태스크를 적절한 노드에 분배하는 과정</li>
</ul>
</li>
</ol>
<hr />
<h3 id="사용-시-주의사항">사용 시 주의사항</h3>
<ul>
<li>서버 클러스터링을 할 때는 반드시 각 서버의 시간을 NTP 등의 툴을 이용해 동기화해야 함</li>
<li>시간 불일치는 예상치 못한 오류의 원인이 될 수 있음</li>
</ul>